{"version":3,"sources":["./src/app/tab1/tab1.page.html","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.scss","./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Home\\r\\n    </ion-title>\\r\\n      <ion-buttons slot=\\\"secondary\\\">\\r\\n          <ion-icon name=\\\"md-power\\\" style=\\\"zoom:1.5;\\\" (click)=\\\"logout()\\\" class=\\\"m-r-5\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <div *ngIf=\\\"!socketService.delivery && !onGoing\\\" class=\\\"m-t-100 text-center p-t-10\\\">\\r\\n\\r\\n      <img src=\\\"/assets/images/box.png\\\" width=\\\"100\\\" height=\\\"100\\\">\\r\\n      <h4 class=\\\"text-light-grey m-t-25\\\">Waiting For Delivery Request!</h4>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"socketService.delivery && !onGoing\\\" class=\\\"p-t-10\\\">\\r\\n        <ion-card class=\\\"welcome-card\\\">\\r\\n            <img [src]=\\\"socketService.delivery.map\\\" alt=\\\"\\\" />\\r\\n\\r\\n            <div class=\\\"content\\\">\\r\\n                <ion-card-title>Delivery Request</ion-card-title>\\r\\n                <ion-card-subtitle>#{{socketService.delivery.id}}</ion-card-subtitle>\\r\\n                <hr>\\r\\n                <p *ngFor=\\\"let item of socketService.delivery.items\\\">• {{item.name}}</p>\\r\\n                <p>Pickup • {{socketService.delivery.pickup.street}}, {{socketService.delivery.pickup.city}}, {{socketService.delivery.pickup.postcode}}</p>\\r\\n                <p>Drop&nbsp;&nbsp;   • {{socketService.delivery.drop.street}}, {{socketService.delivery.drop.city}}, {{socketService.delivery.drop.postcode}}</p>\\r\\n                <p>Distance • {{socketService.delivery.distance}}KM</p>\\r\\n                <p>• Requires {{socketService.delivery.people}} People</p>\\r\\n                <h6><b>&euro; {{socketService.delivery.total}}</b></h6>\\r\\n                <br>\\r\\n\\r\\n                <button mat-raised-button class=\\\"green-button\\\" style=\\\"margin-right: 20px\\\" (click)=\\\"action(socketService.delivery.id, true)\\\">Accept</button><button mat-raised-button class=\\\"m-l-30 red-button\\\" (click)=\\\"action(socketService.delivery.id, false)\\\">Reject</button>\\r\\n\\r\\n\\r\\n            </div>\\r\\n        </ion-card>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"onGoing && order\\\">\\r\\n\\r\\n        <agm-map [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\" [zoom]=\\\"15\\\" (mapClick)=\\\"map = !map\\\">\\r\\n            <agm-marker [latitude]=\\\"order.pickup_lat\\\" [longitude]=\\\"order.pickup_lng\\\">\\r\\n                <agm-info-window [disableAutoPan]=\\\"false\\\" #infoWindow>\\r\\n                    <div>\\r\\n                        Pickup Point\\r\\n                        <br>\\r\\n                        <h6>{{order.pickup.name}} </h6>\\r\\n                        <p>{{order.pickup.door}}, {{order.pickup.street}}, {{order.pickup.street}}, {{order.pickup.postcode}}, {{order.pickup.city}}, Finland</p>\\r\\n                    </div>\\r\\n                </agm-info-window>\\r\\n            </agm-marker>\\r\\n\\r\\n            <agm-marker [latitude]=\\\"order.drop_lat\\\" [longitude]=\\\"order.drop_lng\\\">\\r\\n                <agm-info-window [disableAutoPan]=\\\"false\\\" #infoWindow>\\r\\n                    <div>\\r\\n                        Drop Point\\r\\n                        <br>\\r\\n                        <h6>{{order.drop.name}} </h6>\\r\\n                        <p>{{order.drop.door}}, {{order.drop.street}}, {{order.drop.street}}, {{order.drop.postcode}}, {{order.drop.city}}, Finland</p>\\r\\n                    </div>\\r\\n                </agm-info-window>\\r\\n            </agm-marker>\\r\\n\\r\\n            <agm-marker [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\">\\r\\n                <agm-info-window [disableAutoPan]=\\\"false\\\" #infoWindow>\\r\\n                    <div>\\r\\n                       Your Location\\r\\n                    </div>\\r\\n                </agm-info-window>\\r\\n            </agm-marker>\\r\\n        </agm-map>\\r\\n\\r\\n            <div class=\\\"delivery-details\\\">\\r\\n                <ion-card class=\\\"delivery-card mat-elevation-z5\\\" (click)=\\\"convertToCard()\\\" *ngIf=\\\"status==='pickup'\\\">\\r\\n                    <div class=\\\"content\\\">\\r\\n                        <button mat-mini-fab style=\\\"float: right; display: block; background-color: teal\\\" (click)=\\\"openMap()\\\">\\r\\n                            <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                                <path fill=\\\"#ffffff\\\" d=\\\"M12,2L4.5,20.29L5.21,21L12,18L18.79,21L19.5,20.29L12,2Z\\\" />\\r\\n                            </svg>\\r\\n                        </button>\\r\\n                        <ion-card-title>Ongoing Delivery : Pickup</ion-card-title>\\r\\n                        <ion-card-subtitle>#{{order.id}}</ion-card-subtitle>\\r\\n                        <div *ngIf=\\\"!map\\\">\\r\\n                            <hr>\\r\\n                            <p *ngFor=\\\"let item of order.items\\\">• {{item.name}}</p>\\r\\n                            <hr>\\r\\n                            <h6>{{order.pickup.name}} </h6>\\r\\n                            <p>{{order.pickup.door}}, {{order.pickup.street}}, {{order.pickup.street}}, {{order.pickup.postcode}}, {{order.pickup.city}}, Finland</p>\\r\\n                            <p><svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                                <path fill=\\\"#767676\\\" d=\\\"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z\\\" />\\r\\n                            </svg> &nbsp; {{order.pickup.phone}}</p>\\r\\n                            <h6>Notes: {{order.pickup.notes}}</h6>\\r\\n                            <button mat-raised-button class=\\\"pickup-button\\\" (click)=\\\"markPickupComplete()\\\">Pickup Complete</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </ion-card>\\r\\n\\r\\n                <ion-card class=\\\"delivery-card mat-elevation-z5\\\" *ngIf=\\\"status==='drop'\\\" (click)=\\\"convertToCard()\\\">\\r\\n                    <div class=\\\"content\\\">\\r\\n                            <button mat-mini-fab style=\\\"float: right; display: block; background-color: teal\\\" (click)=\\\"openMap()\\\">\\r\\n                                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                                    <path fill=\\\"#ffffff\\\" d=\\\"M12,2L4.5,20.29L5.21,21L12,18L18.79,21L19.5,20.29L12,2Z\\\" />\\r\\n                                </svg>\\r\\n                            </button>\\r\\n                        <ion-card-title>Ongoing Delivery : Drop</ion-card-title>\\r\\n                        <ion-card-subtitle>#{{order.id}}</ion-card-subtitle>\\r\\n                        <div *ngIf=\\\"!map\\\">\\r\\n                            <hr>\\r\\n                            <p *ngFor=\\\"let item of order.items\\\">• {{item.name}}</p>\\r\\n                            <hr>\\r\\n                            <h6>{{order.drop.name}} </h6>\\r\\n                            <p>{{order.drop.door}}, {{order.drop.street}}, {{order.drop.street}}, {{order.drop.postcode}}, {{order.drop.city}}, Finland</p>\\r\\n                            <p><svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                                <path fill=\\\"#767676\\\" d=\\\"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z\\\" />\\r\\n                            </svg> &nbsp; {{order.drop.phone}}</p>\\r\\n                            <h6>Notes: {{order.drop.notes}}</h6>\\r\\n                            <button mat-raised-button class=\\\"pickup-button\\\" (click)=\\\"markDropComplete()\\\">Drop Complete</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </ion-card>\\r\\n            </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\nimport {MatButtonModule, MatCardModule} from '@angular/material';\r\nimport {AgmCoreModule} from '@agm/core';\r\n\r\n@NgModule({\r\n    imports: [\r\n        IonicModule,\r\n        CommonModule,\r\n        FormsModule,\r\n        RouterModule.forChild([{path: '', component: Tab1Page}]),\r\n        MatButtonModule,\r\n        AgmCoreModule,\r\n        MatCardModule\r\n    ],\r\n  declarations: [Tab1Page]\r\n})\r\nexport class Tab1PageModule {}\r\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n\\n* {\\n  font-family: \\\"Karla\\\", sans-serif;\\n}\\n\\n.content {\\n  padding: 20px;\\n}\\n\\n.map {\\n  height: 90vh;\\n}\\n\\nagm-map {\\n  height: 88vh;\\n}\\n\\n.delivery-details {\\n  position: absolute;\\n  width: 100%;\\n  bottom: 0;\\n  z-index: 150;\\n  height: auto;\\n}\\n\\n.delivery-card {\\n  background-color: white;\\n}\\n\\n.pickup-button {\\n  background-color: dodgerblue;\\n  color: whitesmoke;\\n  margin-top: 10px;\\n  border-radius: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9EOlxcc2lkZGhhcnRoXFxyZXNlYXJjaFxcd2ViLXByb2plY3RzXFxpb25pY1xcc25hdGNoLXJpZGVyL3NyY1xcYXBwXFx0YWIxXFx0YWIxLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUVFLGdDQUFBO0FDQUY7O0FER0E7RUFFRSxhQUFBO0FDREY7O0FESUE7RUFFRSxZQUFBO0FDRkY7O0FES0E7RUFFRSxZQUFBO0FDSEY7O0FETUE7RUFFRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUNKRjs7QURRQTtFQUVFLHVCQUFBO0FDTkY7O0FEU0E7RUFFRSw0QkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ1BGIiwiZmlsZSI6InNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53ZWxjb21lLWNhcmQgaW1nIHtcclxuICBtYXgtaGVpZ2h0OiAzNXZoO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbipcclxue1xyXG4gIGZvbnQtZmFtaWx5OiAnS2FybGEnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4uY29udGVudFxyXG57XHJcbiAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuLm1hcFxyXG57XHJcbiAgaGVpZ2h0OiA5MHZoO1xyXG59XHJcblxyXG5hZ20tbWFwXHJcbntcclxuICBoZWlnaHQ6IDg4dmg7XHJcbn1cclxuXHJcbi5kZWxpdmVyeS1kZXRhaWxzXHJcbntcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHotaW5kZXg6IDE1MDtcclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgLy9iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTgpO1xyXG59XHJcblxyXG4uZGVsaXZlcnktY2FyZFxyXG57XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5waWNrdXAtYnV0dG9uXHJcbntcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBkb2RnZXJibHVlO1xyXG4gIGNvbG9yOiB3aGl0ZXNtb2tlO1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxufVxyXG4iLCIud2VsY29tZS1jYXJkIGltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbioge1xuICBmb250LWZhbWlseTogXCJLYXJsYVwiLCBzYW5zLXNlcmlmO1xufVxuXG4uY29udGVudCB7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5tYXAge1xuICBoZWlnaHQ6IDkwdmg7XG59XG5cbmFnbS1tYXAge1xuICBoZWlnaHQ6IDg4dmg7XG59XG5cbi5kZWxpdmVyeS1kZXRhaWxzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgYm90dG9tOiAwO1xuICB6LWluZGV4OiAxNTA7XG4gIGhlaWdodDogYXV0bztcbn1cblxuLmRlbGl2ZXJ5LWNhcmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn1cblxuLnBpY2t1cC1idXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBkb2RnZXJibHVlO1xuICBjb2xvcjogd2hpdGVzbW9rZTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbn0iXX0= */\"","import {Component} from '@angular/core';\r\nimport {Storage} from '@ionic/storage';\r\nimport {Router} from '@angular/router';\r\nimport {Socket} from 'ngx-socket-io';\r\nimport {SocketService} from '../socket.service';\r\nimport {AppConstants} from '../AppConstants';\r\nimport {HttpClient} from '@angular/common/http';\r\n\r\n@Component({\r\n    selector: 'app-tab1',\r\n    templateUrl: 'tab1.page.html',\r\n    styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page {\r\n\r\n    delivery = false;\r\n    onGoing = false;\r\n    request = true;\r\n    order;\r\n    status = '';\r\n    map = false;\r\n    lat = 28.5593264;\r\n    lng = 77.1589252;\r\n\r\n    constructor(private storage: Storage, private router: Router, public socket: Socket,\r\n                public socketService: SocketService, private http: HttpClient) {\r\n        //  this.getOrderDetails('5d63cab1a0d2290134130403');\r\n        // this.storage.remove('order');\r\n        this.storage.get('order').then(value => {\r\n            if (value !== undefined && value !== null) {\r\n                this.getOrderDetails(value);\r\n            }\r\n        });\r\n\r\n        this.storage.get('status').then(value => {\r\n            console.log('Status', value);\r\n            this.status = value;\r\n        });\r\n        this.notifyLocation();\r\n    }\r\n\r\n    logout() {\r\n        this.storage.remove('user');\r\n        this.storage.remove('token');\r\n        this.storage.remove('login');\r\n        this.router.navigateByUrl('/login');\r\n    }\r\n\r\n    action(id, accept) {\r\n        if (accept) {\r\n            this.socketService.sendAdminMessage({\r\n                accept: true, title: `${AppConstants.user.name} accepted delivery\r\n    request of Order# ${id}!`, avatar: AppConstants.user.avatar\r\n            });\r\n            this.acceptOrder(this.socketService.delivery.id);\r\n        } else {\r\n            this.socketService.sendAdminMessage({\r\n                accept: false, title: `${AppConstants.user.name} declined delivery\r\n    request of Order# ${id}.!`, avatar: AppConstants.user.avatar\r\n            });\r\n            this.socketService.delivery = undefined;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    notifyLocation() {\r\n        if (navigator) {\r\n            if (AppConstants.IS_LOGGED_IN) {\r\n                this.storage.get('user').then(value => {\r\n                    AppConstants.user = value;\r\n                    console.log('User stored data', JSON.stringify(value));\r\n                    // this.socket.emit('riders', {action: 'add', rider: AppConstants.user});\r\n                    navigator.geolocation.getCurrentPosition(pos => {\r\n                        AppConstants.lng = +pos.coords.longitude;\r\n                        AppConstants.lat = +pos.coords.latitude;\r\n                        this.lat = AppConstants.lat;\r\n                        this.lng = AppConstants.lng;\r\n                        this.updateLocation();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        setTimeout(() => {\r\n            this.notifyLocation();\r\n        }, 30000);\r\n    }\r\n\r\n    updateLocation() {\r\n        console.log('About to make call', JSON.stringify(AppConstants.user.rider));\r\n        const id = AppConstants.user.rider.id === undefined ? AppConstants.user.rider : AppConstants.user.rider.id;\r\n        this.http.put(AppConstants.API.RIDERS + '/' + id, {lat: AppConstants.lat, lng: AppConstants.lng},\r\n            {headers: {Authorization: `Bearer ${AppConstants.token}`}}).subscribe(\r\n            value => {\r\n                console.log('Update location', JSON.stringify(value));\r\n                AppConstants.user.rider = value;\r\n                const riderInfo = JSON.parse(JSON.stringify(value));\r\n                riderInfo.status = AppConstants.ONGOING ? 'In Delivery' : 'Available';\r\n                if (!AppConstants.ADDED) {\r\n                    this.socket.emit('riders', {action: 'add', rider: riderInfo});\r\n                    AppConstants.ADDED = true;\r\n                }\r\n                console.log('Will update this location', riderInfo);\r\n                this.socket.emit('riders', {action: 'update', rider: riderInfo});\r\n            },\r\n            error => {\r\n                console.log('An error occurred!', JSON.stringify(error));\r\n            }\r\n        );\r\n    }\r\n\r\n    acceptOrder(id) {\r\n        this.http.put(AppConstants.API.ORDERS + '/' + id, {rider: AppConstants.user.id, status: 'ASSIGNED DELIVERY'},\r\n            {headers: {Authorization: `Bearer ${AppConstants.token}`}}).subscribe(data => {\r\n                console.log('Order details', data);\r\n                this.order = data;\r\n                this.onGoing = true;\r\n                this.status = 'pickup';\r\n                this.storage.set('status', this.status);\r\n                this.storage.set('order', id);\r\n            },\r\n            error => {\r\n                console.log('Looks like an error occurred', error);\r\n            });\r\n    }\r\n\r\n    getOrderDetails(id) {\r\n        this.http.get(AppConstants.API.ORDERS + '/' + id).subscribe(data => {\r\n                console.log('Order details', data);\r\n                this.order = data;\r\n                this.onGoing = true;\r\n                AppConstants.ONGOING = true;\r\n                if (this.status !== '' && this.status !== null && this.status !== undefined) {\r\n                    console.log('Status already set');\r\n                } else {\r\n                    this.status = 'pickup';\r\n                    this.storage.set('status', this.status);\r\n                }\r\n                this.storage.set('order', id);\r\n            },\r\n            error => {\r\n                console.log('Looks like an error occurred', error);\r\n            });\r\n    }\r\n\r\n    getMapImage() {\r\n        this.order.map = `https://maps.googleapis.com/maps/api/staticmap?center=${this.order.pickup_lat},${this.order.pickup_lng\r\n        }&zoom=13&size=600x300\r\n    &maptype=roadmap&markers=color:blue%7Clabel:P%7C${this.order.pickup_lat},${this.order.pickup_lng\r\n        }&markers=color:blue%7Clabel:D%7C${this.order.drop_lat},\r\n            ${this.order.drop_lng}&key=${AppConstants.API_KEY_MAP}`;\r\n    }\r\n\r\n    convertToCard() {\r\n        if (this.map) {\r\n            this.map = false;\r\n        }\r\n    }\r\n\r\n    openMap() {\r\n        console.log('Open map');\r\n        if (this.status === 'pickup') {\r\n            window.open(`https://www.google.com/maps/dir/?api=1&destination=${this.order.pickup_lat},${this.order.pickup_lng}&travelmode=driving`);\r\n        } else {\r\n            window.open(`https://www.google.com/maps/dir/?api=1&destination=${this.order.drop_lat},${this.order.drop_lng}&travelmode=driving`);\r\n        }\r\n\r\n    }\r\n\r\n    markPickupComplete() {\r\n        this.http.put(AppConstants.API.ORDERS + '/' + this.order.id, {rider: AppConstants.user.id, status: 'PICKUP COMPLETE'},\r\n            {headers: {Authorization: `Bearer ${AppConstants.token}`}}).subscribe(data => {\r\n                console.log('Order details', data);\r\n                this.order = data;\r\n                this.onGoing = true;\r\n                this.status = 'drop';\r\n                this.storage.set('status', this.status).then(value => {\r\n                    console.log('Status set');\r\n                });\r\n                this.storage.set('order', this.order.id);\r\n                this.socketService.sendAdminMessage({\r\n                    accept: true, title: `${AppConstants.user.name} completed pickup of Order# ${this.order.id}!`,\r\n                    avatar: AppConstants.user.avatar\r\n                });\r\n            },\r\n            error => {\r\n                console.log('Looks like an error occurred', error);\r\n            });\r\n    }\r\n\r\n    markDropComplete() {\r\n        this.http.put(AppConstants.API.ORDERS + '/' + this.order.id, {rider: AppConstants.user.id, status: 'DROP COMPLETE'},\r\n            {headers: {Authorization: `Bearer ${AppConstants.token}`}}).subscribe(data => {\r\n                console.log('Order details', data);\r\n                this.order = data;\r\n                this.onGoing = false;\r\n                this.status = 'drop';\r\n                this.storage.remove('status');\r\n                this.storage.remove('order');\r\n                this.socketService.sendAdminMessage({\r\n                    accept: true, title: `${AppConstants.user.name} completed drop of Order# ${this.order.id}!`,\r\n                    avatar: AppConstants.user.avatar\r\n                });\r\n                this.router.navigateByUrl('/delivery-successful');\r\n\r\n            },\r\n            error => {\r\n                console.log('Looks like an error occurred', error);\r\n            });\r\n    }\r\n}\r\n"],"sourceRoot":""}